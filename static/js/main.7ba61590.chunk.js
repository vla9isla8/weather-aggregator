(this["webpackJsonpweatcher-aggregator"]=this["webpackJsonpweatcher-aggregator"]||[]).push([[0],{106:function(e,t,a){"use strict";(function(e){var n=a(55),r=a(19),c=a.n(r),o=a(67),i=a(107),u=a(29),s=a(48),l=a(180),p=a(165),f=a(167),m=a(168),d=a(177),h=a(89),v=a(25),b=a(175),g=a(176),w=a(23),y=a(169),E=a(170),O=a(178),j=a(171),k=a(172),x=a(173),S=a(174),P=a(4),C=a(179),D=a(56),N=a.n(D),I=(a(135),a(0)),W=a.n(I),B=a(108),A=[new(a(110).a)("6d0e27996f99802be89d9575a5dfb7ca"),new B.a];N.a.locale("ru-RU");var F=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent);t.a=Object(P.a)((function(e){return Object(l.a)({root:{paddingTop:64},providerHeader:{display:"inline-block",position:"sticky",top:0,backgroundColor:e.palette.background.default,opacity:.6},weather:{position:"sticky",top:0},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},menuButton:{marginRight:e.spacing(2)}})}))((function(e){var t=e.classes,a=Object(I.useState)({}),r=Object(s.a)(a,2),l=r[0],P=r[1],D=Object(I.useState)({}),B=Object(s.a)(D,2),J=B[0],R=B[1],U=Object(I.useState)(""),T=Object(s.a)(U,2),$=T[0],H=T[1],K=Object(I.useCallback)((function(e){var t=e.target.value;localStorage.setItem("city",t),H(t)}),[]);Object(I.useEffect)((function(){var e=localStorage.getItem("selectedProviders"),t=localStorage.getItem("city");e&&R(JSON.parse(e)),t&&H(t)}),[]),Object(I.useEffect)((function(){var e={v:!1};return function(){var t=Object(u.a)(c.a.mark((function t(){var a,n,r,u,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},(n=A.filter((function(e){var t=e.name;return void 0===J[t]||J[t]}))).length>0){r=Object(i.a)(n);try{for(s=function(){var t=u.value;t.getWeather($).then((function(n){a[t.name]=n||[],e.v||P(Object(o.a)({},a))}))},r.s();!(u=r.n()).done;)s()}catch(c){r.e(c)}finally{r.f()}}else P({});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e.v=!0}}),[$,J]);var L=W.a.useState(!1),M=Object(s.a)(L,2),q=M[0],z=M[1],G=Object(I.useCallback)((function(){z((function(e){return!e}))}),[]);return Object(I.useEffect)((function(){localStorage.setItem("selectedProviders",JSON.stringify(J))}),[J]),W.a.createElement(W.a.Fragment,null,W.a.createElement(p.a,null),W.a.createElement(f.a,{position:"fixed"},W.a.createElement(m.a,null,W.a.createElement(d.a,{color:"inherit","aria-label":"open drawer",onClick:G,edge:"start",className:t.menuButton},W.a.createElement(C.a,null)),W.a.createElement(h.a,null,W.a.createElement(v.a,{padding:1},W.a.createElement(b.a,{name:"city",label:"\u0413\u043e\u0440\u043e\u0434",value:$,onChange:K}))))),W.a.createElement(g.a,{disableBackdropTransition:!F,className:t.drawer,anchor:"left",open:q,onClose:G,onOpen:G,classes:{paper:t.drawerPaper}},W.a.createElement(v.a,{padding:1},W.a.createElement(w.a,{variant:"h6"},"\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b"),W.a.createElement(y.a,null,A.map((function(e){var t=e.name;return W.a.createElement(E.a,{label:t,control:W.a.createElement(O.a,{name:"checked".concat(t),color:"primary",checked:void 0===J[t]||J[t],onChange:function(e,a){return R((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(n.a)({},t,a))}))}})})}))))),W.a.createElement(v.a,{display:"flex",flexDirection:"column",height:1,overflow:"hidden",className:t.root},W.a.createElement(v.a,{flex:1,overflow:"auto"},Object.keys(l).map((function(e){return W.a.createElement(v.a,{key:e,padding:3},W.a.createElement(w.a,{variant:"h4",className:t.providerHeader},e),W.a.createElement(v.a,{paddingTop:3,paddingBottom:3},W.a.createElement(v.a,{display:"flex",flexDirection:"row",flexWrap:"wrap"},l[e].map((function(e,t){return W.a.createElement(v.a,{key:t,flex:1,padding:1},W.a.createElement(v.a,{component:j.a,height:1},W.a.createElement(k.a,{title:N()(e.date).format("dddd, LD")}),W.a.createElement(x.a,null,W.a.createElement(w.a,{variant:"subtitle2"},"\u0414\u043d\u0435\u043c: ",W.a.createElement("b",null,e.tempreratureDay,"\xb0")),W.a.createElement(w.a,{variant:"subtitle2"},"\u041d\u043e\u0447\u044c\u044e: ",W.a.createElement("b",null,e.tempreratureNight,"\xb0")),W.a.createElement(w.a,{variant:"subtitle1"},e.description))))})))),W.a.createElement(S.a,null))})))))}))}).call(this,a(44))},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(19),r=a.n(n),c=a(38),o=a(57),i=a(29),u=a(58),s=a(109),l=a.n(s);function p(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(encodeURI("https://weather.service.msn.com/data.aspx?weasearchstr=".concat(t,"&culture=ru-RU&weadegreetype=C&src=outlook")));case 2:return a=e.sent,e.t0=l.a,e.next=6,a.text();case 6:return e.t1=e.sent,e.t2={charkey:"C$",attrkey:"A$",explicitArray:!0,mergeAttrs:!0},e.next=10,e.t0.parseStringPromise.call(e.t0,e.t1,e.t2);case 10:return n=e.sent,e.abrupt("return",n.weatherdata.weather[0]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(){function e(){Object(c.a)(this,e),this.name="MSN"}return Object(o.a)(e,[{key:"getWeather",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(t);case 3:return a=e.sent,e.abrupt("return",a.forecast.map((function(e){return new u.a(new Date(e.date[0]),parseFloat(e.high[0]),parseFloat(e.low[0]),e.skytextday[0])})));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},110:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(19),r=a.n(n),c=a(38),o=a(57),i=a(29),u=a(58);function s(e,t){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.e(3),a.e(4)]).then(a.t.bind(null,182,7));case 2:return(c=e.sent).setLang("ru"),c.setUnits("metric"),c.setCity(t),c.setAPPID(n),e.abrupt("return",new Promise((function(e,t){return c.getWeatherForecastForDays(5,(function(a,n){a?t(a):e(n)}))})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){function e(t){Object(c.a)(this,e),this.apiKey=t,this.name="OpenWeather"}return Object(o.a)(e,[{key:"getWeather",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,this.apiKey);case 3:return a=e.sent,n=a.list,e.abrupt("return",n.map((function(e){return new u.a(new Date(parseInt("".concat(e.dt,"000"))),e.temp.day,e.temp.night,e.weather[0].description)})));case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},128:function(e,t,a){e.exports=a(164)},133:function(e,t,a){},150:function(e,t){},152:function(e,t){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(133),a(106));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(38),r=function e(t,a,r,c){Object(n.a)(this,e),this.date=t,this.tempreratureDay=a,this.tempreratureNight=r,this.description=c}}},[[128,1,2]]]);
//# sourceMappingURL=main.7ba61590.chunk.js.map